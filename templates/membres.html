{% extends "layout.html" %}
{% block head_extra %}

<script type="text/javascript">
 
  function RemplirTableauMembres(json_data) {
    tableau = $('#membres');
    
    alternance = true;
    membres = new Array();

    for (i in json_data) {
      
      infos = json_data[i];
      membre = new Array();

      membre.push(infos.numero);
      membre.push(infos.prenom);
      membre.push(infos.nom);
      membre.push(infos.provenance);

      membres.push(membre);
    }
    $('#membres').dataTable({
      'aaData': membres,
      'bJQueryUI': true,
      'bLengthChange': false,
    });
  }

  function ViderTableauMembres() {
    
  }

  function RechargerListeMembres() {
    $.getJSON('/api/membres', null, function (data) {
      RemplirTableauMembres(data);
    });
  }

  $(document).ready(function () {
    RechargerListeMembres();

    $('input[type="button"]').button();
  });
</script>

{% endblock %}
{% block content %}
  <h1>Liste des membres</h1>
  
  <input type="button" value="Nouveau membre" />
  <br /></br />
  <table id="membres">
    <thead>
       <tr>
         <th>#</th>
         <th>Pr√©nom</th>
         <th>Nom</th>
         <th>Provenance</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
{% endblock %}
